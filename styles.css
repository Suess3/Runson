:root{
  --bg:#b5e6f5; /* Background */
  --ink:#111; --muted:#555; --line:#4f4f4f; --accent:#0b57d0; --ok:#147a0a; --bad:#b00020;
  --wrap:max(320px, min(760px, 94vw));
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:15px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink); background:var(--bg);
  position:relative;
}

/* Background signature watermark centered horizontally */
body::after{
  content:"Made by Johannes";
  position:fixed;
  left:50%; bottom:14px; right:auto;
  transform:translateX(-50%) rotate(-2deg);
  font-family:"Great Vibes", cursive;
  font-size:clamp(28px, 6vw, 52px);
  color:#2d2d2d; opacity:.18;
  pointer-events:none;
  z-index:0;
  white-space:nowrap;
}

.wrap{max-width:var(--wrap); margin:0 auto; padding:12px; position:relative; z-index:1}
.app-header{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:6px 0 10px; border-bottom:1px solid var(--line); margin-bottom:12px}
h1{font-size:18px; margin:0}

.nav{display:flex; gap:6px; flex-wrap:wrap}
.btn{appearance:none; -webkit-appearance:none; cursor:pointer; border:1px solid var(--line); background:#f8f8f8; color:var(--ink); padding:6px 10px; border-radius:6px; font-weight:600}
.btn.primary{background:#e9f0ff; border-color:#bcd0ff; color:#0b3fb0}
.btn.sm{padding:4px 8px; font-size:12px}
.btn.danger{background:#ffecec; border-color:#f2b8b5; color:#b00020}

.panel{border:1px solid var(--line); border-radius:6px; padding:12px; background:#fff; margin-bottom:12px}

label{display:block; margin:8px 0 4px; color:var(--muted); font-weight:600}
input, select, textarea{width:100%; padding:8px 10px; border:1px solid var(--line); border-radius:6px; background:#fff; color:#000}
textarea{min-height:80px; resize:vertical}

.row{display:flex; gap:8px; align-items:flex-end; flex-wrap:wrap}
.grow{flex:1 1 160px}
.muted{color:var(--muted)}
.hidden{display:none !important}

/* Table */
.table-wrap{overflow-x:auto; -webkit-overflow-scrolling:touch; border:1px solid var(--line); border-radius:6px; background:#fff}
table{width:100%; border-collapse:collapse; table-layout:auto; background:#fff}
th, td{border-bottom:1px solid var(--line); padding:8px 10px; text-align:left; vertical-align:top}
th{background:#fafafa}
.num{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-variant-numeric: tabular-nums; white-space:nowrap}
.col-date{min-width: 9ch}
.col-time{min-width: 7ch}
.col-pace{min-width: 8ch}
.col-delta{min-width: 8ch}
.col-note{min-width: 18ch}
.col-act{min-width: 8ch}

/* Chart + tooltip */
.chart-wrap{position:relative}
#chart{width:100%; height:260px; border:1px solid var(--line); border-radius:6px; background:#fff}
#chartTip{
  position:fixed; z-index:20; display:none;
  background:rgba(17,17,17,.92); color:#fff;
  padding:6px 8px; border-radius:6px; font-size:12px; line-height:1.35;
  transform:translate(-50%, calc(-100% - 10px));
  pointer-events:none; white-space:nowrap;
  box-shadow:0 6px 18px rgba(0,0,0,.22);
}

/* KPIs + chip */
.kpis{display:grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap:8px}
.kpi{border:1px solid var(--line); border-radius:6px; padding:10px; background:#fff}

/* Gap-to-goal KPI coloring */
.kpi.good{ background:#e8f7ec; border-color:#9fd0ab; }
.kpi.good .value{ color:var(--ok); }
.kpi.bad{ background:#fde8ea; border-color:#e7b0b7; }
.kpi.bad .value{ color:var(--bad); }

.kpi .label{color:var(--muted); font-size:12px}
.kpi .value{font-weight:800; font-size:18px}

.chip{align-self:center; padding:4px 8px; border-radius:999px; border:1px solid #bfe3bf; background:#eaf7ea; color:#147a0a; font-weight:700; font-size:12px}
